echo "ğŸ” Running pre-push checks..."

# Run linting (production code only, excluding test files with intentional errors)
echo "ğŸ“ Checking linting..."
pnpm test:ci || {
  echo "âŒ Linting failed. Please fix errors before pushing."
  exit 1
}

# Run format check
echo "ğŸ’… Checking formatting..."
pnpm format:check || {
  echo "âŒ Formatting check failed. Run 'pnpm format' to fix."
  exit 1
}

# Run spell check
echo "ğŸ“– Checking spelling..."
pnpm spell || {
  echo "âŒ Spell check failed. Please fix spelling errors."
  exit 1
}

# Check for unused code
echo "ğŸ” Checking for unused code..."
pnpm knip || {
  echo "âŒ Knip found unused code. Please review and fix."
  exit 1
}

# Run validation
echo "ğŸ§ª Running validation..."
pnpm validate || {
  echo "âŒ Validation failed. Please fix errors before pushing."
  exit 1
}

echo "âœ… All pre-push checks passed!"
